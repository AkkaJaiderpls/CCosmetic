{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { v4 as uuidv4 } from \"uuid\";\nimport { CART } from \"../variables\";\nvar initialState = [];\nexport default function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var cartItem = state.find(function (item) {\n    return item.cartId === action.cartId;\n  });\n  var cartItemIndex = cartItem && state.indexOf(cartItem);\n  switch (action.type) {\n    case CART.ADD_TO_CART:\n      if (!action.product.variation || action.product.variation.length === 0) {\n        var addedCartItem = state.find(function (item) {\n          return item.id === action.product.id;\n        });\n        var addedCartItemIndex = addedCartItem && state.indexOf(addedCartItem);\n        if (!addedCartItem) {\n          return [].concat(_toConsumableArray(state), [_objectSpread(_objectSpread({}, action.product), {}, {\n            cartQuantity: action.quantity || 1,\n            cartId: uuidv4()\n          })]);\n        } else {\n          return [].concat(_toConsumableArray(state.slice(0, addedCartItemIndex)), [_objectSpread(_objectSpread({}, addedCartItem), {}, {\n            cartQuantity: action.quantity ? addedCartItem.cartQuantity + action.quantity : addedCartItem.cartQuantity + 1\n          })], _toConsumableArray(state.slice(addedCartItemIndex + 1)));\n        }\n      } else {\n        if (!action.color || action.color === \"\") {\n          var _addedCartItem = state.find(function (item) {\n            return item.id === action.product.id;\n          });\n          var _addedCartItemIndex = _addedCartItem && state.indexOf(_addedCartItem);\n          if (!_addedCartItem) {\n            return [].concat(_toConsumableArray(state), [_objectSpread(_objectSpread({}, action.product), {}, {\n              cartQuantity: action.quantity || 1,\n              cartId: uuidv4()\n            })]);\n          } else {\n            return [].concat(_toConsumableArray(state.slice(0, _addedCartItemIndex)), [_objectSpread(_objectSpread({}, _addedCartItem), {}, {\n              cartQuantity: action.quantity ? _addedCartItem.cartQuantity + action.quantity : _addedCartItem.cartQuantity + 1\n            })], _toConsumableArray(state.slice(_addedCartItemIndex + 1)));\n          }\n        } else {\n          var _addedCartItem2 = state.find(function (item) {\n            return item.id === action.product.id && item.selectedColor && item.selectedColor === action.color;\n          });\n          var _addedCartItemIndex2 = _addedCartItem2 && state.indexOf(_addedCartItem2);\n          if (!_addedCartItem2) {\n            return [].concat(_toConsumableArray(state), [_objectSpread(_objectSpread({}, action.product), {}, {\n              cartQuantity: action.quantity || 1,\n              selectedColor: action.color,\n              cartId: uuidv4()\n            })]);\n          } else {\n            return [].concat(_toConsumableArray(state.slice(0, _addedCartItemIndex2)), [_objectSpread(_objectSpread({}, _addedCartItem2), {}, {\n              cartQuantity: action.quantity ? _addedCartItem2.cartQuantity + action.quantity : _addedCartItem2.cartQuantity + 1\n            })], _toConsumableArray(state.slice(_addedCartItemIndex2 + 1)));\n          }\n        }\n      }\n    case CART.REMOVE_FROM_CART:\n      return [].concat(_toConsumableArray(state.slice(0, cartItemIndex)), _toConsumableArray(state.slice(cartItemIndex + 1)));\n    case CART.REMOVE_ALL_FROM_CART:\n      return [];\n    case CART.INCREASE_QUANTITY_CART:\n      return [].concat(_toConsumableArray(state.slice(0, cartItemIndex)), [_objectSpread(_objectSpread({}, cartItem), {}, {\n        cartQuantity: cartItem.cartQuantity + 1\n      })], _toConsumableArray(state.slice(cartItemIndex + 1)));\n    case CART.DECREASE_QUANTITY_CART:\n      if (cartItem.cartQuantity < 2) {\n        return;\n      }\n      return [].concat(_toConsumableArray(state.slice(0, cartItemIndex)), [_objectSpread(_objectSpread({}, cartItem), {}, {\n        cartQuantity: cartItem.cartQuantity - 1\n      })], _toConsumableArray(state.slice(cartItemIndex + 1)));\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["v4","uuidv4","CART","initialState","cartReducer","state","arguments","length","undefined","action","cartItem","find","item","cartId","cartItemIndex","indexOf","type","ADD_TO_CART","product","variation","addedCartItem","id","addedCartItemIndex","concat","_toConsumableArray","_objectSpread","cartQuantity","quantity","slice","color","selectedColor","REMOVE_FROM_CART","REMOVE_ALL_FROM_CART","INCREASE_QUANTITY_CART","DECREASE_QUANTITY_CART"],"sources":["/home/rlsxsuredials/Desktop/Development/CCosmetic/FRONTEND/src/redux/reducers/cartReducer.js"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { CART } from \"../variables\";\r\n\r\nconst initialState = [];\r\n\r\nexport default function cartReducer(state = initialState, action) {\r\n  const cartItem = state.find((item) => item.cartId === action.cartId);\r\n  const cartItemIndex = cartItem && state.indexOf(cartItem);\r\n  switch (action.type) {\r\n    case CART.ADD_TO_CART:\r\n      if (!action.product.variation || action.product.variation.length === 0) {\r\n        const addedCartItem = state.find(\r\n          (item) => item.id === action.product.id\r\n        );\r\n        const addedCartItemIndex =\r\n          addedCartItem && state.indexOf(addedCartItem);\r\n        if (!addedCartItem) {\r\n          return [\r\n            ...state,\r\n            {\r\n              ...action.product,\r\n              cartQuantity: action.quantity || 1,\r\n              cartId: uuidv4(),\r\n            },\r\n          ];\r\n        } else {\r\n          return [\r\n            ...state.slice(0, addedCartItemIndex),\r\n            {\r\n              ...addedCartItem,\r\n              cartQuantity: action.quantity\r\n                ? addedCartItem.cartQuantity + action.quantity\r\n                : addedCartItem.cartQuantity + 1,\r\n            },\r\n            ...state.slice(addedCartItemIndex + 1),\r\n          ];\r\n        }\r\n      } else {\r\n        if (!action.color || action.color === \"\") {\r\n          const addedCartItem = state.find(\r\n            (item) => item.id === action.product.id\r\n          );\r\n          const addedCartItemIndex =\r\n            addedCartItem && state.indexOf(addedCartItem);\r\n          if (!addedCartItem) {\r\n            return [\r\n              ...state,\r\n              {\r\n                ...action.product,\r\n                cartQuantity: action.quantity || 1,\r\n                cartId: uuidv4(),\r\n              },\r\n            ];\r\n          } else {\r\n            return [\r\n              ...state.slice(0, addedCartItemIndex),\r\n              {\r\n                ...addedCartItem,\r\n                cartQuantity: action.quantity\r\n                  ? addedCartItem.cartQuantity + action.quantity\r\n                  : addedCartItem.cartQuantity + 1,\r\n              },\r\n              ...state.slice(addedCartItemIndex + 1),\r\n            ];\r\n          }\r\n        } else {\r\n          const addedCartItem = state.find(\r\n            (item) =>\r\n              item.id === action.product.id &&\r\n              item.selectedColor &&\r\n              item.selectedColor === action.color\r\n          );\r\n          const addedCartItemIndex =\r\n            addedCartItem && state.indexOf(addedCartItem);\r\n          if (!addedCartItem) {\r\n            return [\r\n              ...state,\r\n              {\r\n                ...action.product,\r\n                cartQuantity: action.quantity || 1,\r\n                selectedColor: action.color,\r\n                cartId: uuidv4(),\r\n              },\r\n            ];\r\n          } else {\r\n            return [\r\n              ...state.slice(0, addedCartItemIndex),\r\n              {\r\n                ...addedCartItem,\r\n                cartQuantity: action.quantity\r\n                  ? addedCartItem.cartQuantity + action.quantity\r\n                  : addedCartItem.cartQuantity + 1,\r\n              },\r\n              ...state.slice(addedCartItemIndex + 1),\r\n            ];\r\n          }\r\n        }\r\n      }\r\n    case CART.REMOVE_FROM_CART:\r\n      return [\r\n        ...state.slice(0, cartItemIndex),\r\n        ...state.slice(cartItemIndex + 1),\r\n      ];\r\n    case CART.REMOVE_ALL_FROM_CART:\r\n      return [];\r\n    case CART.INCREASE_QUANTITY_CART:\r\n      return [\r\n        ...state.slice(0, cartItemIndex),\r\n        { ...cartItem, cartQuantity: cartItem.cartQuantity + 1 },\r\n        ...state.slice(cartItemIndex + 1),\r\n      ];\r\n    case CART.DECREASE_QUANTITY_CART:\r\n      if (cartItem.cartQuantity < 2) {\r\n        return;\r\n      }\r\n      return [\r\n        ...state.slice(0, cartItemIndex),\r\n        { ...cartItem, cartQuantity: cartItem.cartQuantity - 1 },\r\n        ...state.slice(cartItemIndex + 1),\r\n      ];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}